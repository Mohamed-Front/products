import{_ as L,l as $,u as B,a as T,r as i,o as j,b as x,c as a,d as l,e as d,f as e,t as r,F as b,g as f,m as E,h as F,n as y,i as V,w as D,p as A,k as R}from"./index-59a0f5c7.js";import{N as z}from"./nav-bff8b1c3.js";const _=u=>(A("data-v-a850df78"),u=u(),R(),u),M={class:"max-w-7xl mx-auto p-6 bg-gray-900 min-h-screen text-gray-100"},q={key:0,class:"flex justify-center items-center h-64"},G={key:1,class:"text-center text-red-400"},H={class:"text-xl font-semibold"},J={key:2,class:"bg-gray-800 rounded-xl shadow-2xl p-8"},K={class:"flex flex-col md:flex-row gap-8"},O={class:"md:w-1/2"},Q={class:"relative"},U=["src","alt"],W={class:"absolute top-3 right-3"},X={class:"flex gap-3 mt-6 overflow-x-auto pb-2"},Y=["src","alt","onClick"],Z={class:"md:w-1/2"},ee={class:"text-4xl font-extrabold text-white mb-5"},te={class:"flex items-center gap-6 mb-5"},se=_(()=>e("span",{class:"text-sm text-gray-400"},"Price:",-1)),oe={class:"text-3xl font-bold text-blue-400"},ae={key:0,class:"text-sm text-gray-500 line-through ml-3"},le=_(()=>e("span",{class:"text-sm text-gray-400"},"Freight:",-1)),re={class:"text-lg font-medium text-gray-300"},ce={class:"mb-6"},ne=_(()=>e("span",{class:"text-sm text-gray-400"},"Shop:",-1)),ie=["href"],de={class:"mb-6"},ue=_(()=>e("h3",{class:"text-xl font-semibold text-white mb-3"},"Purchase Specifications",-1)),pe={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},_e={class:"flex justify-between w-full"},ve={class:"font-bold text-blue-400"},he={class:"flex gap-4"},me={setup(u){const k=$();B();const w=T(),v=i(!0),h=i(null),t=i(null),p=i(""),n=i(null),C=async()=>{var c;try{v.value=!0;const o=await F.post(`/api/products/${k.params.id}`);if(o.data.success)t.value=o.data.data,p.value=t.value.productImageList[0],n.value=(c=t.value.skuList[0])==null?void 0:c.skuCode;else throw new Error("Failed to load product data")}catch(o){h.value="Error loading product details. Please try again later.",console.error("Error fetching product:",o)}finally{v.value=!1}},N=()=>{if(!n.value)return;const c=t.value.skuList.find(o=>o.skuCode===n.value);w.add({severity:"success",summary:"Added to cart",detail:`${t.value.productName} (${c.props[0].valueName}) has been added to cart`,life:3e3})},P=c=>{window.open(c,"_blank")};return j(()=>{C()}),(c,o)=>{const S=x("ProgressSpinner"),I=x("Tag"),m=x("Button");return a(),l(b,null,[d(z),e("div",M,[v.value?(a(),l("div",q,[d(S,{style:{width:"50px",height:"50px"}})])):h.value?(a(),l("div",G,[e("p",H,r(h.value),1)])):(a(),l("div",J,[e("div",K,[e("div",O,[e("div",Q,[e("img",{src:p.value,alt:t.value.productName,class:"w-full h-96 object-contain rounded-xl shadow-lg"},null,8,U),e("div",W,[d(I,{value:t.value.platform,severity:t.value.platform==="TB"?"info":"warning",class:"text-sm px-3 py-1"},null,8,["value","severity"])])]),e("div",X,[(a(!0),l(b,null,f(t.value.productImageList,(s,g)=>(a(),l("img",{key:g,src:s,alt:`Thumbnail ${g+1}`,class:y(["w-24 h-24 object-contain cursor-pointer rounded-md hover:opacity-90 transition-all duration-300",{"ring-2 ring-blue-500":p.value===s}]),onClick:ge=>p.value=s},null,10,Y))),128))])]),e("div",Z,[e("h1",ee,r(t.value.productName),1),e("div",te,[e("div",null,[se,e("span",oe,"짜"+r(t.value.price.price),1),t.value.proPrice.price<t.value.price.price?(a(),l("span",ae," 짜"+r(t.value.proPrice.price),1)):E("",!0)]),e("div",null,[le,e("span",re,"짜"+r(t.value.freight.price),1)])]),e("div",ce,[ne,e("a",{href:`https://shop${t.value.shop.shopId}.taobao.com`,target:"_blank",class:"text-blue-400 hover:text-blue-300 transition-colors"},r(t.value.shop.shopName),9,ie)]),e("div",de,[ue,e("div",pe,[(a(!0),l(b,null,f(t.value.skuList,s=>(a(),V(m,{key:s.skuCode,label:s.props[0].valueName,class:y(["p-button-outlined text-left border-gray-600 hover:bg-gray-700",{"bg-blue-600 border-blue-600 text-white":n.value===s.skuCode}]),onClick:g=>n.value=s.skuCode},{default:D(()=>[e("div",_e,[e("span",null,r(s.props[0].valueName),1),e("span",ve,"짜"+r(s.price.price),1)])]),_:2},1032,["label","class","onClick"]))),128))])]),e("div",he,[d(m,{icon:"pi pi-shopping-cart",label:"Add to Cart",class:"p-button-success bg-green-600 hover:bg-green-700 border-green-600",disabled:!n.value,onClick:N},null,8,["disabled"]),d(m,{icon:"pi pi-external-link",label:"View on Taobao",class:"p-button-outlined border-gray-600 hover:bg-gray-700",onClick:o[0]||(o[0]=s=>P(t.value.productLink))})])])])]))])],64)}}},fe=L(me,[["__scopeId","data-v-a850df78"]]);export{fe as default};
